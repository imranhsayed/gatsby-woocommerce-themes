query NODE_LIST_QUERY($first: Int!, $after: String) {
  products(first: $first, after: $after, where: { parent: null }) {
    nodes {
      attributes(first: 100) {
        nodes {
          attributeId
          id
          name
          options
          position
          variation
          visible
          __typename
          ... on GlobalProductAttribute {
            terms(first: 100) {
              nodes {
                id
              }
            }
          }
        }
      }
      averageRating
      contentType {
        node {
          id
        }
      }
      date
      dateOnSaleFrom
      dateOnSaleTo
      description
      featured
      galleryImages(first: 100) {
        nodes {
          id
          sourceUrl
        }
      }
      globalAttributes(first: 100) {
        nodes {
          attributeId
          id
          name
          options
          position
          terms(first: 100) {
            nodes {
              id
            }
          }
          variation
          visible
        }
      }
      id
      image {
        id
        sourceUrl
      }
      link
      localAttributes(first: 100) {
        nodes {
          attributeId
          id
          name
          options
          position
          variation
          visible
        }
      }
      menuOrder
      modified
      name
      onSale
      paColors(first: 100) {
        nodes {
          id
        }
      }
      paSizes(first: 100) {
        nodes {
          id
        }
      }
      wpParent: parent {
        id
      }
      productCategories(first: 100) {
        nodes {
          id
        }
      }
      productId
      productTags(first: 100) {
        nodes {
          id
        }
      }
      productTypes(first: 100) {
        nodes {
          id
        }
      }
      purchasable
      purchaseNote
      related(first: 100) {
        nodes {
          id
        }
      }
      reviewCount
      reviews(first: 100) {
        averageRating
        nodes {
          id
        }
      }
      reviewsAllowed
      shippingClasses(first: 100) {
        nodes {
          id
        }
      }
      shortDescription
      sku
      slug
      status
      totalSales
      upsell(first: 100) {
        nodes {
          id
        }
      }
      visibleProducts(first: 100) {
        nodes {
          id
        }
      }
      __typename
    }
    pageInfo {
      hasNextPage
      endCursor
    }
  }
}
